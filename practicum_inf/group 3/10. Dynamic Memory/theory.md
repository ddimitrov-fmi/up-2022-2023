# Паметта, която можете да използвате в C++ програма, е най-общо казано 3 типа:


## Статична

В тази памет се записват променливите, обявени извън функциите
(т.нар. глобални променливи). Те се виждат от всички функции през
цялото изпълнение на програмата.

## Стекова

В тази памет се записват предадените параметри и променливите,
дефинирани вътре във функциите и въобще в произволен блок.
Променливите се виждат само във функцията (блока), в която са
дефинирани, и се унищожават при завършване на функцията (излизане
от блока).

## Динамична

Останалата част от паметта на компютъра е достъпна за всички
програми при поискване. За управлението на тази памет се грижи
операционната система. Във всеки момент отделен блок от паметта
може да е свободен или да е заделен за някоя програма и
може да го чете само тя. При опит някоя програма да прочете памет,
която не е заделена за нея, независимо дали е заделена за друга
програма или е свободна, операционната система прекратява
изпълнението на програмат с грешка Access Violation.

В C++ програма можете да заделите памет за една променлива или за
масив от променливи с помощта на оператора new, който връща
указател към променливата:

```
int* oneVariable = new int;
int* array = new int[x];
```

За разлика от статичната памет, в динамичната памет може да се
създават масиви, чиято големина не е известна предварително, т.е. е
пресметната или е прочетена от клавиатурата например.
Променливите в динамичната памет се виждат през указателя, който
получавате от new до края на изпълнението на програмата, когато тази
памет се освобождава


Заделена с new памет се освобождава с оператора delete:

```
delete oneVariable;
delete[] array;
```

* С new се използва delete, а с new[...] се използва delete[]. Двете форми
не бива да се смесват.
* Ако се опитате да използвате динамична памет след като сте я
освободили с delete - Access Violation
* Ако се опитате да освободите памет, която не сте заделили - Access
Violation
* Ако се опитате да освободите паметта, която сте заделили, но не от
началото (напр. delete array + 3) - Access Violation
* Многомерни матрици не могат да се заделят с new, само едномерни
масиви

Ако забравите да освободите заделена памет или "загубите" указателя
към заделена памет, то тази памет става неизползваема за целия
компютър до завършването на програмата ви. Дори да губите само 1B
памет, ако това се случва например в два вложени цикъла от 1 до
50000, то цялата ви налична памет ще се изчерпи. Такава грешка се
нарича _memory leak_.